<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Controle Di√°rio</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="manifest" href="manifest.json">

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f2f2;
}

#listaHistorico {
  max-height: 220px;
  overflow-y: auto;
  font-size: 13px;
}

.dia {
  border-bottom: 1px solid #ccc;
  padding: 6px 0;
}

.dia strong {
  display: block;
}

.app {
  width: 360px;
  background: #fff;
  margin: 10px auto;
  padding: 15px;
  border: 1px solid #000;
}

h2 {
  text-align: center;
}

.linha {
  display: flex;
  justify-content: space-between;
  margin-bottom: 6px;
}

input {
  width: 120px;
}

.readonly {
  background: #eee;
}

.secao {
  border-top: 1px solid #000;
  margin-top: 10px;
  padding-top: 10px;
}

button {
  cursor: pointer;
}

</style>
</head>

<body>

<div class="app">
<h2>Controle Di√°rio</h2>

<div class="linha">
  <label>KM Inicial</label>
  <input id="kmInicial" type="number" oninput="calcular()">
  <label>KM Final</label>
  <input id="kmFinal" type="number" oninput="calcular()">
</div>

<div class="linha">
  <label>Hora Inicial</label>
  <input id="horaInicio" type="text" inputmode="numeric" placeholder="HHMM"
       style="width:70px"
       oninput="this.value = normalizarHora(this.value); calcular();">
  <button onclick="capturarHora('horaInicio')">‚è±</button>

  <label>Hora Final</label>
 <input id="horaFim" type="text" inputmode="numeric" placeholder="HHMM"
       style="width:70px"
       oninput="this.value = normalizarHora(this.value); calcular();">
  <button onclick="capturarHora('horaFim')">‚è±</button>
</div>

<div class="secao">
<div class="linha">
  <label>Abastecimento</label>
  <input id="abastecimento" type="number">
  <button onclick="addAbastecimento()">+</button>
</div>

<div class="linha">
  <label>Total Abastecido</label>
  <input id="totalAbastecido" class="readonly" readonly>
</div>

<div class="linha">
  <label>Custo Di√°rio</label>
  <input id="custo" type="number">
  <button onclick="addCusto()">+</button>
</div>

<div class="linha">
  <label>Total Custo Di√°rio</label>
  <input id="totalCusto" class="readonly" readonly>
</div>

<div class="linha">
  <label>Apurado (Entrada)</label>
  <input id="apurado" type="number" oninput="calcular()">
</div>
</div>

<div class="secao">
<div class="linha">
  <label>KM Percorrido</label>
  <input id="kmPercorrido" class="readonly" readonly>
</div>

<div class="linha">
  <label>Horas Trabalhadas</label>
  <input id="horasTrabalhadas" class="readonly" readonly>
</div>

<div class="linha">
  <label>Valor da Hora</label>
  <input id="valorHora" class="readonly" readonly>
</div>
</div>

<div class="secao">
<div class="linha">
  <strong>Lucro do Dia</strong>
  <input id="lucro" class="readonly" readonly>
</div>

</div>
<button onclick="salvarDia()">Salvar Dia</button>
<div class="secao">
  <h3>Hist√≥rico Di√°rio</h3>
  <div id="listaHistorico"></div>
</div>

  <button onclick="apagarRegistroAtual()" style="margin-top:8px;background:#f44336;color:#fff;">
  üóë Apagar registro atual
</button>

  
</div>

 <script src="app.js"></script>
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js');
}
</script>

</body>
</html>












